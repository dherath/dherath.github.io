<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Simulation of a serial snake robot | dinalHerath </title> <meta name="description" content=" Snake robots : serial snake robot "> <meta name="keywords" content="Gazebo ,snake robot ,serial ,simulation"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="Dinal Herath"> <meta property="article:section" content=""> <meta property="article:tag" content="Gazebo ,snake robot ,serial ,simulation"> <meta property="article:published_time" content="2017-07-15 00:00:00 +0530"> <meta property="og:url" content="http://localhost:4000/2017/serial-snake-robot/"> <meta property="og:title" content=" Simulation of a serial snake robot | dinalHerath "> <meta property="og:image" content="http://localhost:4000"> <meta property="og:description" content=" Snake robots : serial snake robot "> <meta property="og:site_name" content="Dinal Herath"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content=""> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" Simulation of a serial snake robot | dinalHerath "> <meta name="twitter:description" content=" Snake robots : serial snake robot "> <meta name="twitter:image:src" content="http://localhost:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" Simulation of a serial snake robot | dinalHerath "> <meta itemprop="description" content=" Snake robots : serial snake robot "> <meta itemprop="image" content="http://localhost:4000"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="stylesheet" href="/assets/css/font-awesome.min.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://localhost:4000/2017/serial-snake-robot/"> <link rel="alternate" type="application/rss+xml" title="dinalHerath" href="http://localhost:4000/feed.xml"> <script type="text/javascript"> var disqus_shortname = ''; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-99988883-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">dinal<span>Herath</span></a></h1> <ul class="navbar"> <li><a href="/blog">Blog</a></li> <!--<li><a href="/howtos.html">HowTos</a></li>--> <li><a href="/about">About</a></li> <!-- <li><a href="/resume">Resume</a></li>--> <!--<li><a href="/contact">Contact</a></li>--> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script> <p class="post-meta"><time datetime="2017-07-15T00:00:00+05:30" itemprop="datePublished">Jul 15, 2017</time></p> <h1 class="post-title" itemprop="name headline">Simulation of a serial snake robot</h1> </header> <div class="post-content" itemprop="articleBody"> <p><img src="https://raw.githubusercontent.com/dherath/WebsiteMaterial/master/2017/post_2_serial_snake_robot/gazebo.png" alt="gazebo" width="500px" /></p> <p>I’ve always been fascinated by robots and well snakes. When it came to selecting a theme for my undergraduate research project I naturally ended up selecting an option which fits well with both. What started out as a research project sort of ended up being one my hobbies, so I’ll time and again update on my snake robot progress through my blog.</p> <p>Now first to start off, essentially what I have been trying to do is to replicate serpentine motion in robots using simulations. Note that none of the methods I have developed have been experimentally tested. Maybe I’ll do it someday but there is still a long way to go before that… u’ll see why.</p> <h4 id="prerequisites-skip-if-youve-used-gazebo-or-know-some-robotics">Prerequisites (<a href="#ref1">Skip</a> if you’ve used Gazebo or know some robotics)</h4> <p>Before I go further into what I’ve done, here are some things you’ll need to know.</p> <ul> <li>All my simulations were carried out using <strong>Gazebo</strong>, an open source software platform widely used in robotic simulations. Simulations are a cool way of testing out new ideas with minimal cost, and its way more cooler since it involves robots. If you’ve never used Gazebo then click <a href="http://gazebosim.org" target="blank">here</a>. The official website has all the instruction on how to install Gazebo and tutorials on how to get started.</li> <li>Also you’ll need to have some idea about robotics in general. <a href="https://www.amazon.com/Theory-Applied-Robotics-Kinematics-Dynamics/dp/1441917497" target="blank">Theory of Applied Robotics: Kinematics, Dynamics and Control</a> is a great book you could use as a reference, but for now just knowing how to use Gazebo would be sufficient to understand what I’ve done.</li> </ul> <h4 id="the-serial-snake-robot-model"><a name="ref1">The serial snake robot model</a></h4> <p>I made some assumptions when designing my initial snake robots purely to reduce the complexity of the motion. I assume that biological snakes move in a planar surface (2D) replicating a sinusoidal pattern, that scales don’t contribute to overall motion (<em>which is false :)</em>) and that a snakes body could be approximated by a linear combination of cuboids which are linked by revolute joints which rotate about the <em>Z axis</em> as shown below.</p> <p><img src="https://raw.githubusercontent.com/dherath/WebsiteMaterial/master/2017/post_2_serial_snake_robot/jpg_serial/compound.jpg" alt="compound" width="250px" /></p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c">&lt;!-- ------------ serial link 17 ---------- --&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">"plink_17_box"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;pose&gt;</span>0 -1.60 0.05 0 0 0<span class="nt">&lt;/pose&gt;</span> <span class="c">&lt;!-- changes with -0.10 for each  y coord --&gt;</span>
    <span class="nt">&lt;inertial&gt;</span>
      <span class="nt">&lt;inertia&gt;</span>
        <span class="nt">&lt;ixx&gt;</span>0.00018625<span class="nt">&lt;/ixx&gt;</span> <span class="c">&lt;!-- using tensor matrix --&gt;</span>
        <span class="nt">&lt;iyy&gt;</span>0.00025<span class="nt">&lt;/iyy&gt;</span>
        <span class="nt">&lt;izz&gt;</span>0.00018625<span class="nt">&lt;/izz&gt;</span>
        <span class="nt">&lt;ixy&gt;</span>0<span class="nt">&lt;/ixy&gt;</span>
        <span class="nt">&lt;ixz&gt;</span>0<span class="nt">&lt;/ixz&gt;</span>
        <span class="nt">&lt;iyz&gt;</span>0<span class="nt">&lt;/iyz&gt;</span>
      <span class="nt">&lt;/inertia&gt;</span>
      <span class="nt">&lt;mass&gt;</span>0.15<span class="nt">&lt;/mass&gt;</span>
    <span class="nt">&lt;/inertial&gt;</span>
    <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">"collision"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box&gt;</span>
          <span class="nt">&lt;size&gt;</span>0.1 0.07 0.1<span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;/box&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/collision&gt;</span>
    <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">"visual"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box&gt;</span>
          <span class="nt">&lt;size&gt;</span>0.1 0.07 0.1<span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;/box&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
</code></pre></div></div> <p>I defined four main operations for the twist motion namely <strong>+2</strong> and <strong>-2</strong> which represent the maximum/minimum twist to the left and right respectively and <strong>+1</strong>,<strong>-1</strong> which represents the twist to the left &amp; right for half the maximum angle. For each cuboid I’ve defined a hard limit of maximum and minimum twist angles in the model description itself as shown below.</p> <p><img src="https://raw.githubusercontent.com/dherath/WebsiteMaterial/master/2017/post_2_serial_snake_robot/jpg_serial/combined_right_left.jpg" alt="combined_right_left" width="500px" /></p> <table> <thead> <tr> <th>Operation</th> <th style="text-align: center">Twist Direction</th> <th style="text-align: right">Angle(<script type="math/tex">\alpha</script>)</th> </tr> </thead> <tbody> <tr> <td>+2</td> <td style="text-align: center">Left</td> <td style="text-align: right">335<script type="math/tex">^{\circ}</script></td> </tr> <tr> <td>+1</td> <td style="text-align: center">Left</td> <td style="text-align: right">342.5<script type="math/tex">^{\circ}</script></td> </tr> <tr> <td>-1</td> <td style="text-align: center">Right</td> <td style="text-align: right">12.5<script type="math/tex">^{\circ}</script></td> </tr> <tr> <td>-2</td> <td style="text-align: center">Right</td> <td style="text-align: right">25<script type="math/tex">^{\circ}</script></td> </tr> </tbody> </table> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- code for joint between link 5 and 6 --&gt;</span>
<span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">"plink_6_MOVE"</span> <span class="na">type=</span><span class="s">"revolute"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;pose&gt;</span>0 -0.0525 0 0 0 0<span class="nt">&lt;/pose&gt;</span> <span class="c">&lt;!-- position relative to head --&gt;</span>
  <span class="nt">&lt;child&gt;</span>plink_05_box<span class="nt">&lt;/child&gt;</span>
  <span class="nt">&lt;parent&gt;</span>plink_06_box<span class="nt">&lt;/parent&gt;</span>
  <span class="nt">&lt;axis&gt;</span>
    <span class="nt">&lt;xyz&gt;</span>0 0 1<span class="nt">&lt;/xyz&gt;</span> <span class="c">&lt;!-- rotating axis is Z --&gt;</span>
    <span class="nt">&lt;limit&gt;</span>
      <span class="nt">&lt;lower&gt;</span>-0.436332<span class="nt">&lt;/lower&gt;</span> <span class="c">&lt;!-- upper limit for alpha in radians --&gt;</span>
      <span class="nt">&lt;upper&gt;</span>0.436332<span class="nt">&lt;/upper&gt;</span> <span class="c">&lt;!-- lower limit for alpha in radians --&gt;</span>
    <span class="nt">&lt;/limit&gt;</span>
  <span class="nt">&lt;/axis&gt;</span>
<span class="nt">&lt;/joint&gt;</span>
</code></pre></div></div> <p>The code snippets below show the implementation for these twist like motions for each joint within the main plugin for the model.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">moveJointLeft</span><span class="p">(</span><span class="kt">int</span> <span class="n">_jointPos</span><span class="p">)</span> <span class="c1">// +2 orientation</span>
<span class="p">{</span>
	<span class="n">math</span><span class="p">::</span><span class="n">Angle</span> <span class="n">currentAngle</span> <span class="p">=</span> <span class="k">this</span><span class="p">-&gt;</span><span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">GetAngle</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="n">currentAngle</span> <span class="p">&lt;</span><span class="n">maxLimit</span> <span class="p">){</span>
		<span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">SetForce</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">10</span><span class="p">);</span><span class="c1">//left</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">moveJointRight</span><span class="p">(</span><span class="kt">int</span> <span class="n">_jointPos</span><span class="p">)</span> <span class="c1">// -2 orientation</span>
<span class="p">{</span>
	<span class="n">math</span><span class="p">::</span><span class="n">Angle</span> <span class="n">currentAngle</span> <span class="p">=</span> <span class="k">this</span><span class="p">-&gt;</span><span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">GetAngle</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="n">currentAngle</span> <span class="p">&gt;</span><span class="n">minLimit</span> <span class="p">){</span>
		<span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">SetForce</span><span class="p">(</span><span class="m">0</span><span class="p">,-</span><span class="m">10</span><span class="p">);</span><span class="c1">//right</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">shrinkJoint</span><span class="p">(</span><span class="kt">int</span> <span class="n">_jointPos</span><span class="p">)</span> <span class="c1">// -1 &amp; +1 orientation</span>
<span class="p">{</span>
	<span class="n">math</span><span class="p">::</span><span class="n">Angle</span> <span class="n">currentAngle</span> <span class="p">=</span> <span class="k">this</span><span class="p">-&gt;</span><span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">GetAngle</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
	<span class="n">math</span><span class="p">::</span><span class="n">Angle</span> <span class="n">upper</span> <span class="p">=</span> <span class="n">maxLimit</span><span class="p">/</span><span class="m">2</span><span class="p">;</span>
	<span class="n">math</span><span class="p">::</span><span class="n">Angle</span> <span class="n">lower</span> <span class="p">=</span> <span class="n">minLimit</span><span class="p">/</span><span class="m">2</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">currentAngle</span> <span class="p">&lt;</span> <span class="n">lower</span> <span class="p">){</span>
		<span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">SetForce</span><span class="p">(</span><span class="m">0</span><span class="p">,-</span><span class="m">10</span><span class="p">);</span>
	<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">currentAngle</span> <span class="p">&gt;</span><span class="n">upper</span><span class="p">){</span>
		<span class="n">joints</span><span class="p">[</span><span class="n">_jointPos</span><span class="p">]-&gt;</span><span class="nf">SetForce</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">10</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Instead of defining a sinusoidal movement pattern for the overall robot, I replicated that movement by creating <strong>8 states or orientations</strong> for the complete snake robot, where those states would be iteratively executed until we need the robot to stop. Now note that there is no feedback loop here, and neither dose the robot know where its going. The idea I wanted to test out here was the possibility of creating complex motion patterns (<a href="https://en.wikipedia.org/wiki/Undulatory_locomotion" target="blank">Lateral Undulation</a> in this case) without the need for equations of motion or any sort of computation.</p> <p>As per the code below for ease of execution I broke down the 20 joints into 4 main segments namely <code class="highlighter-rouge">head(M1-M5), body1(M6-M10), body2(M11-M15), tail(M16-M21)</code> where the operations of either <strong><em>moveJointRight(), moveJointLeft() or shrinkJoint()</em></strong> would be executed for a complete segment at a given iteration of the loop.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// for all these functions k represents the index to start</span>
<span class="c1">// and limit the number of joints to execute the movement function</span>
<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">left</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">,</span><span class="kt">int</span> <span class="n">limit</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">limit</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="c1">//int loc=lamdaLimit[0][k]-i; //  B-&gt;F</span>
		<span class="kt">int</span> <span class="n">loc</span><span class="p">=</span><span class="n">lamdaLimit</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="n">k</span><span class="p">]+</span><span class="n">i</span><span class="p">;</span> <span class="c1">//    F-&gt;B</span>
		<span class="nf">moveJointLeft</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>		
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">right</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">,</span><span class="kt">int</span> <span class="n">limit</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">limit</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="c1">//int loc=lamdaLimit[0][k]-i; //  B-&gt;F</span>
		<span class="kt">int</span> <span class="n">loc</span><span class="p">=</span><span class="n">lamdaLimit</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="n">k</span><span class="p">]+</span><span class="n">i</span><span class="p">;</span> <span class="c1">//    F-&gt;B</span>
		<span class="nf">moveJointRight</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>		
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">shrink</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">,</span><span class="kt">int</span> <span class="n">limit</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">limit</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="c1">//int loc=lamdaLimit[0][k]-i; //  B-&gt;F</span>
		<span class="kt">int</span> <span class="n">loc</span><span class="p">=</span><span class="n">lamdaLimit</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="n">k</span><span class="p">]+</span><span class="n">i</span><span class="p">;</span> <span class="c1">//    F-&gt;B</span>
		<span class="nf">shrinkJoint</span><span class="p">(</span><span class="n">loc</span><span class="p">);</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>The Table below represents the states and the code for the counter method I used to transition from one state to another. For every 150 iterations the sequence jumps one step forward(1-&gt;2 ect). Of all the 8 states, the first 4 are the initial configurations. These configurations <strong><em>(Config 1-4)</em></strong> were used to set initial positions of the links such that a stationary sine wave was shown when considering the overall snake robot shape. Afterwards the configurations from <strong><em>5-8</em></strong> were iteratively looped with each update cycle in the plugin.</p> <table> <thead> <tr> <th><strong>Configurations</strong></th> <th style="text-align: center"><strong>Head (M1-M5)</strong></th> <th style="text-align: center"><strong>Body1 (M6-M10)</strong></th> <th style="text-align: center"><strong>Body2 (M11-M15)</strong></th> <th style="text-align: center"><strong>Tail (M16-M21)</strong></th> </tr> </thead> <tbody> <tr> <td><strong>Configuration 1</strong></td> <td style="text-align: center"> </td> <td style="text-align: center"> </td> <td style="text-align: center"> </td> <td style="text-align: center">+2</td> </tr> <tr> <td><strong>Configuration 2</strong></td> <td style="text-align: center"> </td> <td style="text-align: center"> </td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> </tr> <tr> <td><strong>Configuration 3</strong></td> <td style="text-align: center"> </td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> <td style="text-align: center">-2</td> </tr> <tr> <td><strong>Configuration 4</strong></td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> <td style="text-align: center">-2</td> <td style="text-align: center">+1</td> </tr> <tr> <td><strong>Configuration 5</strong></td> <td style="text-align: center">-1</td> <td style="text-align: center">-2</td> <td style="text-align: center">+1</td> <td style="text-align: center">+2</td> </tr> <tr> <td><strong>Configuration 6</strong></td> <td style="text-align: center">-2</td> <td style="text-align: center">+1</td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> </tr> <tr> <td><strong>Configuration 7</strong></td> <td style="text-align: center">+1</td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> <td style="text-align: center">-2</td> </tr> <tr> <td><strong>Configuration 8</strong></td> <td style="text-align: center">+2</td> <td style="text-align: center">-1</td> <td style="text-align: center">-2</td> <td style="text-align: center">+1</td> </tr> </tbody> </table> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// The OnUpdate() function runs continuously  </span>
<span class="k">void</span> <span class="n">movementPlugin</span><span class="p">::</span><span class="nf">OnUpdate</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//------[ B1-&gt; B2 -&gt; B3 -&gt; B4 ]---------------------------</span>
	<span class="c1">//-------initial config (1-4)-----------------------------</span>
	<span class="k">if</span><span class="p">(</span><span class="n">initialConfigCount</span><span class="p">&lt;</span><span class="m">150</span><span class="p">){</span>
		<span class="nf">left</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="n">initialConfigCount</span><span class="p">++;</span>
	<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">initialConfigCount</span><span class="p">&lt;</span><span class="m">300</span><span class="p">){</span>
		<span class="nf">shrink</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">left</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="n">initialConfigCount</span><span class="p">++;</span>
	<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">initialConfigCount</span><span class="p">&lt;</span><span class="m">450</span><span class="p">){</span>
		<span class="nf">right</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">shrink</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">left</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="n">initialConfigCount</span><span class="p">++;</span>
	<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">initialConfigCount</span><span class="p">&lt;</span><span class="m">600</span><span class="p">){</span>
		<span class="nf">shrink</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">right</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">shrink</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">left</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
		<span class="n">initialConfigCount</span><span class="p">++;</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
	<span class="c1">//-------continues config (5-8)-------------------------</span>
		<span class="k">if</span><span class="p">(</span><span class="n">sequenceCount</span><span class="p">==</span><span class="m">0</span><span class="p">){</span>
			<span class="nf">left</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">right</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="n">count</span><span class="p">++;</span>
		<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sequenceCount</span><span class="p">==</span><span class="m">1</span><span class="p">){</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">left</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">right</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="n">count</span><span class="p">++;</span>
		<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sequenceCount</span><span class="p">==</span><span class="m">2</span><span class="p">){</span>
			<span class="nf">right</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">left</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="n">count</span><span class="p">++;</span>
		<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">sequenceCount</span><span class="p">==</span><span class="m">3</span><span class="p">){</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k0</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">right</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">shrink</span><span class="p">(</span><span class="n">k2</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="nf">left</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span><span class="m">5</span><span class="p">);</span>
			<span class="n">count</span><span class="p">++;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="c1">//----------seconds counter-----------------------</span>
	<span class="k">if</span><span class="p">(</span><span class="n">count</span><span class="p">&gt;</span><span class="m">150</span><span class="p">){</span>
		<span class="n">count</span><span class="p">=</span><span class="m">0</span><span class="p">;</span>
		<span class="n">sequenceCount</span><span class="p">=(</span><span class="n">sequenceCount</span><span class="p">+</span><span class="m">1</span><span class="p">)%</span><span class="m">4</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>And thats it, The <code class="highlighter-rouge">gif</code> below shows the snake robot simulation as described by the code above. So basically it is in-fact possible to replicate complex biological motion from simple methods like this instead of relying purely on mathematical computations. However this is far from perfect. Right now this snake has no idea where its going, and neither is it capable of controlling its speed or optimizing its movement based on environmental constraints. So in future I’d probably try to implement this method on other designs and try to increase the efficiency of the movement.</p> <p><img src="https://raw.githubusercontent.com/dherath/WebsiteMaterial/master/2017/post_2_serial_snake_robot/snakeRobot2.gif" alt="snakeRobot2" width="500px" /></p> <p>If you’d like to work on this code or need this for some other project feel free to get it from <a href="https://github.com/dherath/Snake_Robots/tree/master/serial_snake_robot" target="blank">here</a> and if you want more recent updates on my snake robots before it becomes a post follow the project on <a href="https://www.researchgate.net/project/Snake-Robots" target="blank">ResearchGate</a>.</p> <p>So until next time,</p> <h5 id="cheers">Cheers!</h5> <p><strong>Next: <a href="http://dinalherath.com/2017/image-pokemon/">Combining video-game sprites using logical operations</a></strong> <br /> <strong>Prev: <a href="http://dinalherath.com/2017/hello-world/">Hello world :)</a></strong></p> <aside class="share"> <p>If you liked this article and think others should read it, please <a href="http://twitter.com/share?text=Simulation of a serial snake robot&amp;url=http://localhost:4000/2017/serial-snake-robot/&amp;via=" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">share it on Twitter <i class="fa fa-twitter" aria-hidden="true" style="color:#00aced"></i></a> or <a href='https://www.facebook.com/sharer/sharer.php?u='+url; onclick="window.open(this.href, 'sharer', 'toolbar=0,status=0,width=550,height=235');return false;">Facebook <i class="fa fa-facebook-square" aria-hidden="true" style="color:#3b5998"></i></a>.</p> </aside> </div> </article> <!-- --> <footer class="site-footer"> <!--<link rel="stylesheet" href="/assets/icons/academicons-1.8.0/css/academicons.css"/>--> <div class="container"> <small class="block"><!--&lt;/&gt; <a href="http://github.com/heiswayi/thinkspace" title="a minimalist Jekyll theme for technical writing">Thinkspace theme</a> by <a href="http://heiswayi.github.io">Heiswayi Nrird</a>. |--><i class="fa fa-copyright"></i> 2017-2018 Dinal Herath</small> <a href="mailto:dinal.bing@gmail.com"><i class="fa fa-envelope" style="font-size:21px;color:#2294bd;"></i></a> <a href="https://www.facebook.com/dinalHerath" target="_blank"><i class="fa fa-facebook-square" style="font-size:22px;color:#2294bd"></i></a> <a href="https://github.com/dherath" target="blank"><i class="fa fa-github-square" style="font-size:22px;color:#2294bd"></i></a> <a href="https://www.linkedin.com/in/jerome-dinal-herath-bba3b0148/" target="blank"><i class="fa fa-linkedin-square" style="font-size:22px;color:#2294bd"></i></a> <a href="/feed.xml" target="_blank"><i class="fa fa-rss-square" style="font-size:22px;color:#2294bd"></i></a> <a href="https://www.researchgate.net/profile/Jerome_Dinal_Herath" target="blank"> <i style="font-size:20px;color:#2294bd;font-weight:bold;"> RG </i></a> </div> </footer> </main> </body> </html>
